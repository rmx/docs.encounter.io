<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="generator" content="nanoc 3.2.4">

    <title>rmx docs - rmx docs - unit</title>
    <link rel="stylesheet" type="text/css" href="/assets/screen.css" media="screen">

    <script type="text/javascript" src="//use.typekit.com/nli5ftd.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body>
<div id="container">
<header>
    <a href="/" class="logo"><span>docs.</span>rmx<span>.im</span></a>
    <ul id="menu" class="normal">
        <li><a href="http://rmx.im" class="minibutton"><span>rmx.im</span></a></li>
    </ul>
</header>

<div id="docs">
    <div id="sidebar">
        <a href="/">Introduction</a>

        <h2>Overview</h2>
        <ul>
            <li><a href="/state-machine/">State Machine</a></li>
            <li><a href="/events/">Events</a></li>
            <li><a href="/prng/">PRNG</a></li>
            <li><a href="/terrain/">Terrain</a></li>
        </ul>

        <h2>Scripts</h2>
        <ul>
            <li><a href="/scripts/">Overview</a></li>
            <li><a href="/scripts/aura">Aura</a></li>
            <li><a href="/scripts/spell">Spell</a></li>
        </ul>

        <h2>Object Hierarchy</h2>
        <ul>
            <li><a href="/world-object/">WorldObject</a></li>
            <li class="oh-1"><a href="/unit/">Unit</a></li>
        </ul>
    </div>

    <div id="content">
        <h1 id="unit">Unit</h1>

<p>Units are world objects which can be controlled by players or behavior
scripts. They also have a model and appearance so they are displayed on the
client in the canvas.</p>

<p>The WorldObject is the base object in the hierarchy. It contains the most
basic properties which are inherited by all other object types.</p>

<h3 id="isalive--boolean">isAlive :: Boolean</h3>

<p>True if the unit is alive, can move, cast and otherwise interact with the
world.</p>

<h3 id="declaredead--undefined">declareDead :: undefined</h3>

<p>Declaring a unit dead will interrupt the current spellcast, remove all auras,
make the unit immovable and inform all players that this unit died.</p>

<h2 id="attributes">Attributes</h2>

<p>Attributes are key/value pairs attached to a unit. There are a few basic
attributes, and you can also create your own.</p>

<ul>
<li>
<code>health</code>: When this attribute reaches zero then the unit has died. This is
displayed in the client UI as the health bar. The game engine will clamp
this value between zero and <code>max-health</code>.</li>
  <li>
<code>max-health</code>: The maximum health that the unit can have.</li>
  <li>
<code>speed</code>: The speed controls how fast the unit can walk. The default speed
is 1.0, when set to zero then the unit may not move (but can still cast).</li>
</ul><h3 id="setattributename-value--undefined">setAttribute(name, value) :: undefined</h3>

<p>It is recomended to use numeric values. It will allow you to use functions
like <code>changeAttributeBy</code>.</p>

<h3 id="getattributename--polymorphic">getAttribute(name) :: polymorphic</h3>

<p>The function either returns the attribute or undefined if the attribute is not
set.</p>

<h3 id="changeattributebyname-delta--undefined">changeAttributeBy(name, delta) :: undefined</h3>

<p>Change the attribute by the given delta. This only works if the value exists
and is numeric.</p>

<h2 id="spells-and-cooldowns">Spells and Cooldowns</h2>

<p>A unit can cast only one spell at a time. Casting a spell may take some time,
during that time the unit may or may not move. Spells can be interrupted. Each
spell is part of a cooldown group, all spells in that group share the same
cooldown. Once a spell is successfully cast, no spell in the same cooldown
group may be cast until the cooldown expires.</p>

<h3 id="startcastname-target--boolean">startCast(name, target) :: Boolean</h3>

<p>Start casting a spell. Returns true if the cast was started, and false if not
(because unit is incapable of casting, or another spell is being cast etc).</p>

<h3 id="interruptcurrentspell--boolean">interruptCurrentSpell() :: Boolean</h3>

<p>Interrupt the current spell. Returns true if the spell was interrupted, false
otherwise (also when no spell is currently being cast).</p>

<h3 id="iscasting--boolean">isCasting() :: Boolean</h3>

<p>Returns true if a spell cast is in progress.</p>

<h3 id="triggercooldowngroup-time--undefined">triggerCooldown(group, time) :: undefined</h3>

<p>The cooldown for the spell’s cooldown group is automatically triggered after
a successful spell cast. But you can also manually trigger cooldowns for
other groups at any time.</p>

<h3 id="iscooldownexpiredgroup--boolean">isCooldownExpired(group) :: Boolean</h3>

<p>Returns true if the cooldown for that group has expired.</p>

<h2 id="aura">Aura</h2>

<p>Each unit has a list of auras. The auras can strengthen or weaken the unit by
accessing and modifying the combat log events during each tick.</p>

<p><strong>TODO</strong>: Document how/when auras are triggered, refreshed etc.</p>

<h3 id="addauraname--undefined">addAura(name) :: undefined</h3>

<h3 id="hasauraname--boolean">hasAura(name) :: Boolean</h3>

<h3 id="triggerauraname--undefined">triggerAura(name) :: undefined</h3>

<h3 id="removeauraname--undefined">removeAura(name) :: undefined</h3>

<h3 id="clearauras--undefined">clearAuras :: undefined</h3>

<p>Remove all auras from the unit. Is the same as calling <code>removeAura</code> for each
aura that is currently on the unit.</p>
    </div>
</div>

<footer>
    <p>© rmx inc.</p>
    <ul>
        <li>Powered by:</li>
        <li><a href="http://nanoc.stoneship.org/">nanoc</a><span>|</span></li>
        <li><a href="http://pages.github.com/">GitHub Pages</a></li>
    </ul>
</footer>
</div>

<script type="text/javascript">
    var _gauges = _gauges || [];
    (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2db2f1844d52060d000035');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
    })();
</script>
</body>
</html>
